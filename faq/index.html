
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://eth-cscs.github.io/manta/faq/">
      
      
        <link rel="prev" href="../security/">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.42">
    
    
      
        <title>FAQ - Manta Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.0253249f.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#faq" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Manta Documentation" class="md-header__button md-logo" aria-label="Manta Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Manta Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              FAQ
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/eth-cscs/manta" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    eth-cscs/manta
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Manta Documentation" class="md-nav__button md-logo" aria-label="Manta Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Manta Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/eth-cscs/manta" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    eth-cscs/manta
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../basic_operations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basic Operations
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../cluster_mgmt_with_sat_file/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cluster mgmt with SAT file
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../cluster_migration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cluster migration
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../audit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Audit
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../security/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Security
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="faq">FAQ</h1>
<div class="admonition question">
<p class="admonition-title">What should we put here?</p>
<ul>
<li>List most common questions when using manta (eg: like a howto guide)</li>
<li>Don't put errors here</li>
</ul>
</div>
<p><strong>Q: Can I run manta from my laptop?</strong></p>
<p><strong>A:</strong> Depends. Alps system management APIs are not accessible from the public network.</p>
<ul>
<li>
<p>External users need to run manta from a hardened environment within CSCS.</p>
</li>
<li>
<p>CSCS staff can create a SOCKS5 proxy through bastion and run manta from outside CSCS.</p>
</li>
</ul>
<hr />
<p><strong>Q: <code>manta get ...</code> only shows information for 1 cluster, I am missing other clusters data</strong></p>
<p><strong>A:</strong> make sure manta is not locked to a cluster, run <code>manta config show</code> and make sure there is no <code>Current HSM</code> value.</p>
<p>In this example:
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>manta<span class="w"> </span>config<span class="w"> </span>show
Sites:<span class="w"> </span><span class="o">[</span><span class="s2">&quot;prealps&quot;</span>,<span class="w"> </span><span class="s2">&quot;alps&quot;</span>,<span class="w"> </span><span class="s2">&quot;alpsm&quot;</span><span class="o">]</span>
Current<span class="w"> </span>site:<span class="w"> </span>alps
HSM<span class="w"> </span>available:<span class="w"> </span><span class="o">[</span><span class="s2">&quot;adula&quot;</span>,<span class="w"> </span><span class="s2">&quot;alps&quot;</span>,<span class="w"> </span><span class="s2">&quot;burst&quot;</span>,<span class="w"> </span><span class="s2">&quot;burst_gh&quot;</span>,<span class="w"> </span><span class="s2">&quot;burst_mc&quot;</span>,<span class="w"> </span><span class="s2">&quot;eiger&quot;</span>,<span class="w"> </span><span class="s2">&quot;fora&quot;</span>,<span class="w"> </span><span class="s2">&quot;nodes_free&quot;</span>,<span class="w"> </span><span class="s2">&quot;psidev&quot;</span>,<span class="w"> </span><span class="s2">&quot;psidev_cn&quot;</span>,<span class="w"> </span><span class="s2">&quot;psidev_uan&quot;</span>,<span class="w"> </span><span class="s2">&quot;psitds&quot;</span>,<span class="w"> </span><span class="s2">&quot;psitds_cn&quot;</span>,<span class="w"> </span><span class="s2">&quot;psitds_uan&quot;</span>,<span class="w"> </span><span class="s2">&quot;zinal&quot;</span>,<span class="w"> </span><span class="s2">&quot;zinal_cta&quot;</span>,<span class="w"> </span><span class="s2">&quot;zinal_moleson_tds&quot;</span>,<span class="w"> </span><span class="s2">&quot;zinal_tds&quot;</span>,<span class="w"> </span><span class="s2">&quot;zinal_zinal&quot;</span><span class="o">]</span>
Current<span class="w"> </span>HSM:<span class="w"> </span>adula
Parent<span class="w"> </span>HSM:<span class="w"> </span>nodes_free
</code></pre></div>
manta is locked to cluster <code>adula</code>, therefore it will ignore other cluster's information, to remove this property run command <code>manta config unset hsm</code></p>
<hr />
<p><strong>Q: I have been given access to a new cluster, however I can't see it.</strong></p>
<p><strong>A:</strong> The user authentication token keeps the number of clusters the user has access to. Any changes related to the user access needs a token refresh. To do this run the following commands:</p>
<p>Delete token for the site hosting the cluster the user needs access to</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>manta<span class="w"> </span>config<span class="w"> </span><span class="nb">unset</span><span class="w"> </span>auth
Please<span class="w"> </span>chose<span class="w"> </span>the<span class="w"> </span>site<span class="w"> </span>token<span class="w"> </span>to<span class="w"> </span>delete<span class="w"> </span>from<span class="w"> </span>the<span class="w"> </span>list<span class="w"> </span>below:
&gt;<span class="w"> </span>prealps_auth
<span class="w">  </span>alps_auth
</code></pre></div>
<p>Select the site which auth token needs to be deleted (eg prealps_auth)</p>
<p>Manta will ask the user to authenticate upon the next operation against <code>prealps</code>, if authentication is successful, then the user should receive a new token with the new list of cluster he has access to this site/system</p>
<hr />
<p><strong>Q: My sessions are failing due to an error while running ansible playbook. How can I run my ansible outside the management plane?</strong></p>
<p><strong>A:</strong> You can start an <code>ephemeral session</code>, ephemeral sessions tries to replicate the host targeting the ansible playbook started by the session. To start an ephemeral environment run the following command</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>manta<span class="w"> </span>apply<span class="w"> </span>ephemeral-environment<span class="w"> </span>--image-id<span class="w"> </span>4bf91021-8d99-4adf-945f-46de2ff50a3d
1eff1535-c13c-4d21-ba3f-0c852abd713b.ims.cmn.alps.cscs.ch
</code></pre></div>
<blockquote>
<p>Note: the <code>&lt;image id&gt;</code> should be the same base image used by the session</p>
</blockquote>
<p>The command will return a hostname (<code>1eff1535-c13c-4d21-ba3f-0c852abd713b.ims.cmn.alps.cscs.ch</code>) based on the image id provided, after this, wait a few minutes for the environment to be ready and then create an ansible inventory with this hostname. With this, you should be able to run your ansible scripts locally if you need to troubleshoot your playbook.</p>
<p>To test the ephemeral environment</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>ssh<span class="w"> </span>root@1eff1535-c13c-4d21-ba3f-0c852abd713b.ims.cmn.alps.cscs.ch
The<span class="w"> </span>authenticity<span class="w"> </span>of<span class="w"> </span>host<span class="w"> </span><span class="s1">&#39;1eff1535-c13c-4d21-ba3f-0c852abd713b.ims.cmn.alps.cscs.ch (148.187.109.148)&#39;</span><span class="w"> </span>can<span class="s1">&#39;t be established.</span>
<span class="s1">ED25519 key fingerprint is SHA256:/np4nEZWYztGbG/6cDI6vTsLU/9uWEXZQ9Msd/DJGNY.</span>
<span class="s1">This key is not known by any other names</span>
<span class="s1">Are you sure you want to continue connecting (yes/no/[fingerprint])? yes</span>
<span class="s1">Warning: Permanently added &#39;</span>1eff1535-c13c-4d21-ba3f-0c852abd713b.ims.cmn.alps.cscs.ch<span class="err">&#39;</span><span class="w"> </span><span class="o">(</span>ED25519<span class="o">)</span><span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>list<span class="w"> </span>of<span class="w"> </span>known<span class="w"> </span>hosts.
Have<span class="w"> </span>a<span class="w"> </span>lot<span class="w"> </span>of<span class="w"> </span>fun...
cray-ims-1eff1535-c13c-4d21-ba3f-0c852abd713b-customize-xxl7f:/root<span class="w"> </span><span class="c1">#</span>
</code></pre></div>
<hr />
<p><strong>Q: How can I add a new site to manta?</strong></p>
<p><strong>A:</strong> Each site needs to be included in your <a href="../configuration/">configuration file</a> under the <code>sites</code> section. Please get in contact with an Alps administrator to help you configuring a new site since manta needs to know the APIs to talk to.</p>
<hr />
<p><strong>Q: How can I list the number of sites <code>site</code> I have available?</strong></p>
<p><strong>A:</strong> To check all sites available, please run the command below.</p>
<div class="highlight"><pre><span></span><code>manta<span class="w"> </span>config<span class="w"> </span>show
</code></pre></div>
<hr />
<p><strong>Q: How can I tell manta to switch from one <code>site</code> to another?</strong></p>
<p><strong>A:</strong> To tell manta to talk to <code>site name</code> please run the command below.</p>
<div class="highlight"><pre><span></span><code>manta<span class="w"> </span>config<span class="w"> </span><span class="nb">set</span><span class="w"> </span>site<span class="w"> </span>&lt;site<span class="w"> </span>name&gt;
</code></pre></div>
<hr />
<p><strong>Q: What is the easiest way to configure my cluster (build an image, assign image to nodes to boot nodes and configure nodes during runtime) with manta?</strong></p>
<p><strong>A:</strong> The easiest way to deploy a cluster using manta is through a <a href="cluster_mgmt_with_sat_file.yml">SAT a template and SAT vars files</a>.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>ls<span class="w"> </span>my_cluster_sat
template.yaml<span class="w"> </span>session_vars.yaml
</code></pre></div>
<p>To tell manta to use those files run the following command:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>manta<span class="w"> </span>apply<span class="w"> </span>sat<span class="w"> </span>--sat-template-file<span class="w"> </span>my_cluster_sat/template.yaml<span class="w"> </span>--values-file<span class="w"> </span>my_cluster_sat/session_vars.yaml
</code></pre></div>
<hr />
<p><strong>Q: How to move nodes from cluster <code>A</code> to cluster <code>B</code>?</strong></p>
<p><strong>A:</strong> To move nodes <code>form nodes_free</code> to <code>my_cluster</code> run the command below</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>manta<span class="w"> </span>add<span class="w"> </span>nodes<span class="w"> </span>--target-cluster<span class="w"> </span>my_cluster<span class="w"> </span>--parent-cluster<span class="w"> </span>nodes_free<span class="w"> </span>--no-dryrun<span class="w"> </span>x1003c1s7b0n0,x1003c1s7b0n1,x1003c1s7b1n0
</code></pre></div>
<hr />
<p><strong>Q: How to apply changes during runtime without generating an image?</strong></p>
<p><strong>A:</strong> To apply changes to a cluster during runtime, run the command below</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>manta<span class="w"> </span><span class="nb">set</span><span class="w"> </span>runtime-configuration<span class="w"> </span>-H<span class="w"> </span>my_cluster<span class="w"> </span>-c<span class="w"> </span>my_configuration
</code></pre></div>
<hr />
<p><strong>Q: How can I list all configurations available in the system?</strong></p>
<p><strong>A:</strong> The simplest command to get all configurations available to a user is <code>manta get configurations</code>. If the user has system wide access, then this command will return all configurations in the system, otherwise, it will return only the configurations used by the cluster(s) the user has access to.</p>
<hr />
<p><strong>Q: How can I filter configurations by cluster name and configuration name?</strong></p>
<p><strong>A:</strong> <code>manta get configurations -H my_cluster --name my_configuration</code></p>
<hr />
<p><strong>Q:  How can I list the most recent configuration?</strong></p>
<p><strong>A:</strong> <code>manta get configurations --most-recent</code></p>
<hr />
<p><strong>Q: How can I get details of all configuration layers for the most recent configuration?</strong></p>
<p><strong>A:</strong> <code>manta get configurations --most-recent</code></p>
<blockquote>
<p>Note: manta will automatically return configuration layer details when the <code>manta get configurations</code> command returns only 1 configuration</p>
</blockquote>
<hr />
<p><strong>Q: How to list all sessions in the system?</strong></p>
<p><strong>A:</strong> <code>manta get sessions</code></p>
<hr />
<p><strong>Q: How to get the logs of a specific session?</strong></p>
<p><strong>A:</strong> <code>manta logs my_session</code></p>
<hr />
<p><strong>Q: How to connect to the console of a node?</strong></p>
<p><strong>A:</strong> <code>manta console node x1003c1s7b0n0</code></p>
<hr />
<p><strong>Q: How to power on/off or reset a node?</strong></p>
<p><strong>A:</strong> <code>manta power on node x1003c1s7b0n0</code></p>
<hr />
<p><strong>Q: How to list the hardware components of a cluster?</strong></p>
<p><strong>A:</strong> <code>manta get hardware cluster my_cluster</code></p>
<hr />
<p><strong>Q: How to apply changes during runtime without generating an image?</strong></p>
<p><strong>A:</strong> </p>
<p><code>manta set runtime-configuration</code> command won't reboot nodes</p>
<hr />
<p><strong>Q: How to set kernel parameters for a cluster?</strong></p>
<p><strong>A:</strong> </p>
<p><code>manta set kernel -H my_cluster -k "ip=dhcp quiet ksocklnd.skip_mr_route_setup=1 cxi_core.disable_default_svc=0 cxi_core.enable_fgfc=1 cxi_core.sct_pid_mask=0xf spire_join_token=${SPIRE_JOIN_TOKEN}"</code></p>
<p>!!!+ info "No rootfs"
      Do not add the nay parameter related to the <code>root filesystem</code> Alps compute nodes are diskless and the root filesystem is automatically configured when boot image is set</p>
<hr />
<p><strong>Q: How to update node boot images?</strong></p>
<p><strong>A:</strong> </p>
<p>To update the boot image based on a configuration name (recomended) for all the nodes in a cluster <code>manta set boot-image -H my_cluster -c my_configuration_name</code>
To update the boot image based on an image id for all the nodes in a cluster <code>manta set boot-image -H my_cluster -i dbc5300c-3c98-4384-a7a7-28e628cbff43</code></p>
<hr />
<p><strong>Q: How to refresh the user authentication token?</strong></p>
<p><strong>A:</strong> </p>
<ol>
<li>Delete the auth token for the intended system/site <code>manta config unset auth</code></li>
<li>Check manta is using the right site <code>manta config show</code>. This command should ask user to authenticate again since the auth token was deleted in the previous command</li>
</ol>
<hr />
<p><strong>Q: error: failed to load manifest for dependency <code>mesa</code></strong></p>
<p><strong>A:</strong> </p>
<p>This is caused because cargo tries to access mesa library code from local filesystem instead of crates.io repository. To fix this, make sure mesa dependency in Cargo.toml looks as below:</p>
<div class="highlight"><pre><span></span><code>...

[dependencies]
# mesa = &quot;0.37.7&quot;
mesa = { path = &quot;../mesa&quot; } # Only for development purposes

...
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.83f73b43.min.js"></script>
      
    
  </body>
</html>